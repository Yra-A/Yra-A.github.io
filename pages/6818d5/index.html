<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>02 - Intermediate Representation(IR) | Yra&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.10">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3114978_qe0b39no76.css">
    <meta name="description" content="记录个人的CS学习，内容或许会很杂。Contact me : wenjun-1216@qq.com">
    <meta>
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.0e152785.css" as="style"><link rel="preload" href="/assets/js/app.77e46151.js" as="script"><link rel="preload" href="/assets/js/4.a4d078af.js" as="script"><link rel="preload" href="/assets/js/2.32b4e384.js" as="script"><link rel="preload" href="/assets/js/60.b2714d3a.js" as="script"><link rel="preload" href="/assets/js/23.6f765f33.js" as="script"><link rel="prefetch" href="/assets/js/1.860e548e.js"><link rel="prefetch" href="/assets/js/10.41939dab.js"><link rel="prefetch" href="/assets/js/11.243f6890.js"><link rel="prefetch" href="/assets/js/12.f5e152d3.js"><link rel="prefetch" href="/assets/js/13.c0317353.js"><link rel="prefetch" href="/assets/js/14.32b82f57.js"><link rel="prefetch" href="/assets/js/15.38e79c49.js"><link rel="prefetch" href="/assets/js/16.77cde8eb.js"><link rel="prefetch" href="/assets/js/17.2bbaae2b.js"><link rel="prefetch" href="/assets/js/18.7fa83b06.js"><link rel="prefetch" href="/assets/js/19.0a1487c5.js"><link rel="prefetch" href="/assets/js/20.be977be4.js"><link rel="prefetch" href="/assets/js/21.8cad32c6.js"><link rel="prefetch" href="/assets/js/22.dd452bde.js"><link rel="prefetch" href="/assets/js/24.428856ef.js"><link rel="prefetch" href="/assets/js/25.d74da78a.js"><link rel="prefetch" href="/assets/js/26.19880d19.js"><link rel="prefetch" href="/assets/js/27.1799d7c2.js"><link rel="prefetch" href="/assets/js/28.49ffb04f.js"><link rel="prefetch" href="/assets/js/29.01df9f19.js"><link rel="prefetch" href="/assets/js/3.c61f9792.js"><link rel="prefetch" href="/assets/js/30.4bbc0555.js"><link rel="prefetch" href="/assets/js/31.8fed8cfa.js"><link rel="prefetch" href="/assets/js/32.1f8ccb26.js"><link rel="prefetch" href="/assets/js/33.0fae96a7.js"><link rel="prefetch" href="/assets/js/34.b04d11cc.js"><link rel="prefetch" href="/assets/js/35.fdb6e164.js"><link rel="prefetch" href="/assets/js/36.9c147fa6.js"><link rel="prefetch" href="/assets/js/37.44516c52.js"><link rel="prefetch" href="/assets/js/38.aa61ad21.js"><link rel="prefetch" href="/assets/js/39.15e17a00.js"><link rel="prefetch" href="/assets/js/40.516456dc.js"><link rel="prefetch" href="/assets/js/41.1b20158a.js"><link rel="prefetch" href="/assets/js/42.b265a499.js"><link rel="prefetch" href="/assets/js/43.d5e24144.js"><link rel="prefetch" href="/assets/js/44.2dc120f2.js"><link rel="prefetch" href="/assets/js/45.17621cb5.js"><link rel="prefetch" href="/assets/js/46.9c0e48f9.js"><link rel="prefetch" href="/assets/js/47.46455405.js"><link rel="prefetch" href="/assets/js/48.340096c5.js"><link rel="prefetch" href="/assets/js/49.a93e5dbb.js"><link rel="prefetch" href="/assets/js/5.0e88b40f.js"><link rel="prefetch" href="/assets/js/50.b02ec1d5.js"><link rel="prefetch" href="/assets/js/51.0ddb29bf.js"><link rel="prefetch" href="/assets/js/52.03229f3f.js"><link rel="prefetch" href="/assets/js/53.7b163e09.js"><link rel="prefetch" href="/assets/js/54.6113f617.js"><link rel="prefetch" href="/assets/js/55.3efce135.js"><link rel="prefetch" href="/assets/js/56.fd2a9e9c.js"><link rel="prefetch" href="/assets/js/57.edc23c25.js"><link rel="prefetch" href="/assets/js/58.39bed4e5.js"><link rel="prefetch" href="/assets/js/59.3a7cd652.js"><link rel="prefetch" href="/assets/js/6.48079e05.js"><link rel="prefetch" href="/assets/js/61.7862a89b.js"><link rel="prefetch" href="/assets/js/62.b1c0ba20.js"><link rel="prefetch" href="/assets/js/63.b4204344.js"><link rel="prefetch" href="/assets/js/64.67b4f8ad.js"><link rel="prefetch" href="/assets/js/65.80916048.js"><link rel="prefetch" href="/assets/js/66.486fbce2.js"><link rel="prefetch" href="/assets/js/67.1193570f.js"><link rel="prefetch" href="/assets/js/68.4f61e119.js"><link rel="prefetch" href="/assets/js/69.77dd4a51.js"><link rel="prefetch" href="/assets/js/7.a46ce480.js"><link rel="prefetch" href="/assets/js/70.62a5063b.js"><link rel="prefetch" href="/assets/js/71.90e1af10.js"><link rel="prefetch" href="/assets/js/72.3c2248c4.js"><link rel="prefetch" href="/assets/js/73.1a03a15e.js"><link rel="prefetch" href="/assets/js/74.9438976a.js"><link rel="prefetch" href="/assets/js/75.fadd2e5c.js"><link rel="prefetch" href="/assets/js/76.a9045976.js"><link rel="prefetch" href="/assets/js/77.5ba6ce9b.js"><link rel="prefetch" href="/assets/js/78.10880cfb.js"><link rel="prefetch" href="/assets/js/79.3febe380.js"><link rel="prefetch" href="/assets/js/80.d5fed210.js"><link rel="prefetch" href="/assets/js/81.db32e7a5.js"><link rel="prefetch" href="/assets/js/82.9326140c.js"><link rel="prefetch" href="/assets/js/83.915d0b44.js"><link rel="prefetch" href="/assets/js/84.e1bff2fa.js"><link rel="prefetch" href="/assets/js/85.8bbd228b.js"><link rel="prefetch" href="/assets/js/86.7a34741b.js"><link rel="prefetch" href="/assets/js/87.15bee76b.js"><link rel="prefetch" href="/assets/js/88.ff496e4c.js"><link rel="prefetch" href="/assets/js/89.3490fe5c.js"><link rel="prefetch" href="/assets/js/90.6c079372.js"><link rel="prefetch" href="/assets/js/91.40961190.js"><link rel="prefetch" href="/assets/js/92.7b4f2ad8.js"><link rel="prefetch" href="/assets/js/93.0da3dbd6.js"><link rel="prefetch" href="/assets/js/94.96e8a4ab.js"><link rel="prefetch" href="/assets/js/95.eb0d5495.js"><link rel="prefetch" href="/assets/js/96.d5d7a8ce.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.a0c190e4.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0e152785.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/favicon-32x32.png" alt="Yra's blog" class="logo"> <span class="site-name can-hide">Yra's blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Homepage</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Competitive Programming" class="dropdown-title"><a href="/CompetitiveProgramming/" class="link-title">Competitive Programming</a> <span class="title" style="display:none;">Competitive Programming</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/dc89c0/" class="nav-link">LeetCode周赛</a></li><li class="dropdown-item"><!----> <a href="/pages/29a8bf/" class="nav-link">Acwing周赛</a></li><li class="dropdown-item"><!----> <a href="/pages/0b751d/" class="nav-link">刷题整理</a></li><li class="dropdown-item"><!----> <a href="/pages/bdac31/" class="nav-link">题解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Programming Languages" class="dropdown-title"><a href="/ProgrammingLanguages/" class="link-title">Programming Languages</a> <span class="title" style="display:none;">Programming Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/96615a/" class="nav-link">CPP</a></li><li class="dropdown-item"><!----> <a href="/pages/f2991f/" class="nav-link">Golang</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learning Notes" class="dropdown-title"><a href="/LearningNotes" class="link-title">Learning Notes</a> <span class="title" style="display:none;">Learning Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>System</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/80231f/" class="nav-link">MIT6.S081 Labs</a></li></ul></li><li class="dropdown-item"><h4>Computer Networking</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/dda50b/" class="nav-link">CS144: Computer Networking</a></li></ul></li><li class="dropdown-item"><h4>DataBase</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/498a73/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/pages/c32e71/" class="nav-link">Redis</a></li></ul></li><li class="dropdown-item"><h4>Others</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b04817/" class="nav-link">......</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Research" class="dropdown-title"><a href="/Research/" class="link-title">Research</a> <span class="title" style="display:none;">Research</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Paper Reading</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/547f66/" class="nav-link">Petri Net</a></li></ul></li><li class="dropdown-item"><h4>Static Analysis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2498ed/" class="nav-link">NJU Course Notes</a></li></ul></li><li class="dropdown-item"><h4>Deep Learning</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/382964/" class="nav-link">Dive into Deep Learning</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/CasualRecords/" class="nav-link">Casual Records</a></div><div class="nav-item"><a href="/archives/" class="nav-link">Archives</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/head.png"> <div class="blogger-info"><h3>Yra</h3> <span>Only a vegetable dog.</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Homepage</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Competitive Programming" class="dropdown-title"><a href="/CompetitiveProgramming/" class="link-title">Competitive Programming</a> <span class="title" style="display:none;">Competitive Programming</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/dc89c0/" class="nav-link">LeetCode周赛</a></li><li class="dropdown-item"><!----> <a href="/pages/29a8bf/" class="nav-link">Acwing周赛</a></li><li class="dropdown-item"><!----> <a href="/pages/0b751d/" class="nav-link">刷题整理</a></li><li class="dropdown-item"><!----> <a href="/pages/bdac31/" class="nav-link">题解</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Programming Languages" class="dropdown-title"><a href="/ProgrammingLanguages/" class="link-title">Programming Languages</a> <span class="title" style="display:none;">Programming Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/96615a/" class="nav-link">CPP</a></li><li class="dropdown-item"><!----> <a href="/pages/f2991f/" class="nav-link">Golang</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Learning Notes" class="dropdown-title"><a href="/LearningNotes" class="link-title">Learning Notes</a> <span class="title" style="display:none;">Learning Notes</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>System</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/80231f/" class="nav-link">MIT6.S081 Labs</a></li></ul></li><li class="dropdown-item"><h4>Computer Networking</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/dda50b/" class="nav-link">CS144: Computer Networking</a></li></ul></li><li class="dropdown-item"><h4>DataBase</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/498a73/" class="nav-link">MySQL</a></li><li class="dropdown-subitem"><a href="/pages/c32e71/" class="nav-link">Redis</a></li></ul></li><li class="dropdown-item"><h4>Others</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/b04817/" class="nav-link">......</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Research" class="dropdown-title"><a href="/Research/" class="link-title">Research</a> <span class="title" style="display:none;">Research</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>Paper Reading</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/547f66/" class="nav-link">Petri Net</a></li></ul></li><li class="dropdown-item"><h4>Static Analysis</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/2498ed/" class="nav-link">NJU Course Notes</a></li></ul></li><li class="dropdown-item"><h4>Deep Learning</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/382964/" class="nav-link">Dive into Deep Learning</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/CasualRecords/" class="nav-link">Casual Records</a></div><div class="nav-item"><a href="/archives/" class="nav-link">Archives</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Paper Reading</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Static Analysis</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>NJU Course Notes</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/2498ed/" class="sidebar-link">01 - Introduction</a></li><li><a href="/pages/6818d5/" aria-current="page" class="active sidebar-link">02 - Intermediate Representation(IR)</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Deep Learning</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06970110><div class="articleInfo" data-v-06970110><ul class="breadcrumbs" data-v-06970110><li data-v-06970110><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06970110></a></li> <li data-v-06970110><a href="/Research/#Research" data-v-06970110>Research</a></li><li data-v-06970110><a href="/Research/#Static Analysis" data-v-06970110>Static Analysis</a></li><li data-v-06970110><a href="/Research/#NJU Course Notes" data-v-06970110>NJU Course Notes</a></li></ul> <div class="info" data-v-06970110><div title="作者" class="author iconfont icon-touxiang" data-v-06970110><a href="javascript:;" data-v-06970110>Yra</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06970110><a href="javascript:;" data-v-06970110>2023-09-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">02 - Intermediate Representation(IR)<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="_02-intermediate-representation-ir"><a href="#_02-intermediate-representation-ir" class="header-anchor">#</a> 02 - Intermediate Representation(IR)</h1> <blockquote><p>本系列笔记的课程地址：<a href="https://space.bilibili.com/2919428/channel/collectiondetail?sid=342930" target="_blank" rel="noopener noreferrer">南京大学《软件分析》课程2020<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <h3 id="compilers-and-static-analyzers"><a href="#compilers-and-static-analyzers" class="header-anchor">#</a> Compilers and Static Analyzers</h3> <h4 id="compiler"><a href="#compiler" class="header-anchor">#</a> Compiler</h4> <p><strong>流程：</strong></p> <ol><li><p>源码 -&gt; (Scanner；进行词法分析；用到 正则表达式) -&gt;</p></li> <li><p>Tokens -&gt; (Parser；进行语法分析；用到 Context-Free Grammar) -&gt;</p> <ul><li><p>Context-Free 上下文无关文法，更适合且足够用于代码</p></li> <li><p>Context-Sensitive 上下文敏感文法，更适合人类语言</p></li></ul></li> <li><p>AST -&gt; (Type Checker；进行语义分析；用到 Attribute Grammar) -&gt;</p></li> <li><p>Decorated AST -&gt; (Translator) -&gt;</p></li> <li><p>IR -&gt; (Code Generator) -&gt;</p></li> <li><p>Machine Code</p></li></ol> <p>IR 之间是编译器前端，IR 之后是编译器后端</p> <p>静态分析需要在编译器前端生成的 IR 上进行，例如：代码编译优化 <br></p> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922145205484.png" alt="image-20230922145205484" style="zoom:25%;"> <h3 id="abstract-syntax-tree-ast-vs-ir"><a href="#abstract-syntax-tree-ast-vs-ir" class="header-anchor">#</a> Abstract Syntax Tree(AST) vs. IR</h3> <h4 id="ast"><a href="#ast" class="header-anchor">#</a> AST</h4> <ul><li><p>更接近语法结构；语言相关</p></li> <li><p>适合用来做快速的类型检查</p></li> <li><p>缺少了控制流信息（看不出来控制流）</p></li></ul> <h4 id="ir-三地址码形式"><a href="#ir-三地址码形式" class="header-anchor">#</a> IR（三地址码形式）</h4> <ul><li><p>更接近汇编、机器语言；语言无关</p></li> <li><p>紧凑且统一</p></li> <li><p>包含了控制流信息</p></li> <li><p>通常被用来作为静态分析的基础<br></p></li></ul> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922150429664.png" alt="image-20230922150429664" style="zoom:25%;"> <h3 id="ir-three-address-code-3ac"><a href="#ir-three-address-code-3ac" class="header-anchor">#</a> IR: Three-Address Code(3AC)</h3> <p>3-Address Code(3AC)：一条指令右边最多只有一个运算符</p> <p>每个三地址码指令包含最多 3 个 addresses</p> <ul><li><p>Address 可以是</p> <ol><li><p>Name：a, b</p></li> <li><p>Constant：3</p></li> <li><p>Compiler-generated temporary：t1，t2</p></li></ol></li> <li><p>eg. <code>a + b + 3</code> -&gt; <code>t1 = a + b; t2 = t1 + 3;</code></p></li></ul> <p>每一种指令都有自己的 3AC Form，下面是一个常见的三地址码：<br></p> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922152336594.png" alt="image-20230922152336594" style="zoom:25%;"> <h3 id="_3ac-in-real-static-analyzer-soot"><a href="#_3ac-in-real-static-analyzer-soot" class="header-anchor">#</a> 3AC in real Static Analyzer: Soot</h3> <ul><li><p>Soot 是 Java 领域非常常用的静态分析框架</p></li> <li><p>Soot 的 IR 是 Jimple（三地址码形式的）</p></li></ul> <p>下面是一些 Jimple 的例子</p> <ol><li><h5 id="do-while-loop"><a href="#do-while-loop" class="header-anchor">#</a> Do-While Loop<br></h5></li></ol> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922153757583.png" alt="image-20230922153757583" style="zoom:25%;"> <ul><li>「$」 标注了临时变量</li></ul> <ol start="2"><li><h5 id="method-call"><a href="#method-call" class="header-anchor">#</a> Method Call<br></h5></li></ol> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922160655837.png" style="zoom:25%;"> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922154215858.png" alt="image-20230922154215858" style="zoom:25%;"> <ul><li><p>JVM 中的四种 invoke 调用</p> <ul><li><p>invoke speciall：call constructor、call superclass(父类) methods、call private methods</p></li> <li><p>invoke virtual：call instance methods(virtual dispatch，虚函数查表，即会先从调用该方法的对象的类实现中找，找不到再去父类找)</p></li> <li><p>invoke interface：类似 invoke virtual，但不做优化，且会进行 checking interface implementation(实现接口时方法时候都实现了)</p></li> <li><p>invoke static：call static methods</p></li> <li><p>Java 7 还引入了 invoke dynamic</p></li></ul></li> <li><p><code>&lt;...&gt;</code> 尖括号里的是 method signature：</p> <ul><li>[class name]: [return type] [method name](parameter type...)</li></ul></li></ul> <ol start="3"><li><h5 id="class"><a href="#class" class="header-anchor">#</a> <strong>Class</strong><br></h5></li></ol> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922161038992.png" alt="image-20230922161038992" style="zoom:25%;"> <ul><li>clinit 是对静态变量的初始化方法</li></ul> <h3 id="static-single-assignment-ssa-「optional-material」"><a href="#static-single-assignment-ssa-「optional-material」" class="header-anchor">#</a> Static Single Assignment(SSA) 「optional material」</h3> <h4 id="什么是-ssa"><a href="#什么是-ssa" class="header-anchor">#</a> 什么是 SSA ？<br></h4> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922163112721.png" alt="image-20230922163112721" style="zoom:25%;"> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922163140307.png" alt="image-20230922163140307" style="zoom:25%;"> <ul><li>需要记住的两点特征：1. 每个变量都有个准确的定义、名字；2. 当变量名有多种可能性时，会引入 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" viewBox="0 -694 596 899" style="vertical-align:-0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="3D5" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path></g></g></g></svg></mjx-container> 来进行合并</li></ul> <h4 id="ssa-的好处-核心点在于变量名的-distinct"><a href="#ssa-的好处-核心点在于变量名的-distinct" class="header-anchor">#</a> SSA 的好处（核心点在于变量名的 distinct）</h4> <ul><li><p>程序流可以被间接的融入在 unique variable names 中</p> <ul><li>携带了更多信息，可以帮助提供一些更简单的分析，例如：flow-insensitive analysis 可以无需提高 cost 就能获取部分 flow-sensitive analysis 的精度</li></ul></li> <li><p>定义与使用更为清楚、明确</p></li></ul> <h4 id="ssa-的坏处"><a href="#ssa-的坏处" class="header-anchor">#</a> SSA 的坏处</h4> <ul><li><p>引入更多变量和 <mjx-container jax="SVG" class="MathJax"><svg xmlns="http://www.w3.org/2000/svg" width="1.348ex" height="2.034ex" viewBox="0 -694 596 899" style="vertical-align:-0.464ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g data-mml-node="math"><g data-mml-node="mi"><path data-c="3D5" d="M409 688Q413 694 421 694H429H442Q448 688 448 686Q448 679 418 563Q411 535 404 504T392 458L388 442Q388 441 397 441T429 435T477 418Q521 397 550 357T579 260T548 151T471 65T374 11T279 -10H275L251 -105Q245 -128 238 -160Q230 -192 227 -198T215 -205H209Q189 -205 189 -198Q189 -193 211 -103L234 -11Q234 -10 226 -10Q221 -10 206 -8T161 6T107 36T62 89T43 171Q43 231 76 284T157 370T254 422T342 441Q347 441 348 445L378 567Q409 686 409 688ZM122 150Q122 116 134 91T167 53T203 35T237 27H244L337 404Q333 404 326 403T297 395T255 379T211 350T170 304Q152 276 137 237Q122 191 122 150ZM500 282Q500 320 484 347T444 385T405 400T381 404H378L332 217L284 29Q284 27 285 27Q293 27 317 33T357 47Q400 66 431 100T475 170T494 234T500 282Z"></path></g></g></g></svg></mjx-container> 函数</p></li> <li><p>导致一些性能问题<br></p></li></ul> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922164425205.png" alt="image-20230922164425205" style="zoom:25%;"> <h3 id="control-flow-analysis"><a href="#control-flow-analysis" class="header-anchor">#</a> Control Flow Analysis</h3> <ul><li><p>一般指建立控制流图 Control Flow Graph（CFG)</p></li> <li><p>CFG 是静态分析的基础结构</p></li> <li><p>CFG 中的 node 可以是一个三地址码指令，或者通常是一个 Basic Block</p></li></ul> <h4 id="basic-blocks-bb"><a href="#basic-blocks-bb" class="header-anchor">#</a> Basic Blocks(BB)</h4> <p>BB 是连续三地址码指令的最大序列，且满足 1. 入口唯一(第一条指令)；2. 出口唯一(最后一条指令)</p> <p>这里的入口和出口指的是一条语句<br></p> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922165801637.png" alt="image-20230922165801637" style="zoom:25%;"> <h5 id="如何构建-basic-blocks"><a href="#如何构建-basic-blocks" class="header-anchor">#</a> 如何构建 Basic Blocks？</h5> <ul><li><p>输入：P 的三地址码序列</p></li> <li><p>输出：P 的 BB 列表</p></li> <li><p>算法：</p> <ol><li><p>决定 P 的入口</p> <ul><li><p>P 的第一条语句一定是入口</p></li> <li><p>跳转命令的 target 指令一定是入口</p></li> <li><p>跳转命令后紧跟的一条语句也一定是入口（因为跳转命令一定是唯一的出口）</p></li></ul></li> <li><p>构建 P 的 BBs</p> <ul><li>一个 BB 包含了一个入口和直到下一个入口前的所有子序列指令</li></ul></li></ol></li> <li><p>eg：<br></p></li></ul> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922171125582.png" alt="image-20230922171125582" style="zoom:25%;"> <h4 id="构建-control-flow-graph-cfg"><a href="#构建-control-flow-graph-cfg" class="header-anchor">#</a> 构建 Control Flow Graph（CFG)</h4> <ul><li><p>CFG 的每个 node 是一个 BB</p></li> <li><p>连接一条 from A to B 的边，需要且仅需要满足下面的条件</p> <ul><li><p>A 的出口有一个条件跳转或无条件跳转到 B 的入口</p></li> <li><p>B 按指令初始顺序紧跟在 A 的后面，且 A 的出口不是一条无条件跳转（如下图右一为例，<code>(j) goto (i)</code> 是无跳转指令，A 不能连边到 B）<br></p></li></ul></li></ul> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922172101331.png" alt="image-20230922172101331" style="zoom:25%;"> <ul><li>替换指令 label 的跳转为 BB 的跳转<br></li></ul> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922172336482.png" alt="image-20230922172336482" style="zoom:25%;"> <ul><li><p>A 到 B 有一条边，则我们称 A 是 B 的前驱 predecessor，B 是 A 的后继 successor</p></li> <li><p>我们还要添加两个特殊节点，Entry 和 Exit</p> <ul><li><p>他们与可执行 IR 无关，引入只是为了方便后续静态分析算法设计的初始化</p></li> <li><p>Entry 节点连了一条边到包含了 IR 的第一条指令的 BB（本课程中 Entry 只有一条，例如多线程下可能有多个 Entry）</p></li> <li><p>Exit 节点作为后继，与任何包含了 IR 的最后一条指令的 BB 相连，可能有多条边<br></p></li></ul></li></ul> <img src="https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230922173334570.png" alt="image-20230922173334570" style="zoom:25%;"> <ul><li>【Input：3AC of P】 -&gt; 【Output：CFG of P】</li></ul> <h3 id="需要掌握的重点"><a href="#需要掌握的重点" class="header-anchor">#</a> 需要掌握的重点</h3> <ol><li><p>理解编译器和静态分析的关系</p></li> <li><p>理解 3AC 和他的常见形式（in IR Jimple）</p></li> <li><p>如何在 IR 上构建 Basic Blocks</p></li> <li><p>在 Basic Blocks 上构建控制流图</p></li></ol></div></div> <!----> <div class="page-edit"><!----> <div class="tags"><a href="/tags/?tag=Research" title="标签">#Research</a><a href="/tags/?tag=Static%20Analysis" title="标签">#Static Analysis</a><a href="/tags/?tag=NJU%20Course%20Notes" title="标签">#NJU Course Notes</a></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/22/2023, 7:07:10 PM</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/2498ed/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">01 - Introduction</div></a> <a href="/pages/382964/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">Dive into Deep Learning</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/2498ed/" class="prev">01 - Introduction</a></span> <span class="next"><a href="/pages/382964/">Dive into Deep Learning</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/0e1ab0/"><div>
            408 计组笔记
            <!----></div></a> <span class="date">07-19</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/382964/"><div>
            Dive into Deep Learning
            <!----></div></a> <span class="date">01-27</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/ef3649/"><div>
            25 考研随记
            <!----></div></a> <span class="date">11-27</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:wenjun-1216@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/Yra-A" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2025
    <span></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div><div></div></div></div>
    <script src="/assets/js/app.77e46151.js" defer></script><script src="/assets/js/4.a4d078af.js" defer></script><script src="/assets/js/2.32b4e384.js" defer></script><script src="/assets/js/60.b2714d3a.js" defer></script><script src="/assets/js/23.6f765f33.js" defer></script>
  </body>
</html>
