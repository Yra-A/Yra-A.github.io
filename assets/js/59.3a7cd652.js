(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{436:function(t,a,s){"use strict";s.r(a);var e=s(8),i=Object(e.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"introduction"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#introduction"}},[t._v("#")]),t._v(" Introduction")]),t._v(" "),a("blockquote",[a("p",[t._v("本系列笔记的课程地址："),a("a",{attrs:{href:"https://space.bilibili.com/2919428/channel/collectiondetail?sid=342930",target:"_blank",rel:"noopener noreferrer"}},[t._v("南京大学《软件分析》课程2020"),a("OutboundLink")],1)])]),t._v(" "),a("h3",{attrs:{id:"什么是静态分析-静态分析在-pl-研究领域下的划分以及其背景和挑战"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是静态分析-静态分析在-pl-研究领域下的划分以及其背景和挑战"}},[t._v("#")]),t._v(" 什么是静态分析：静态分析在 PL 研究领域下的划分以及其背景和挑战")]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230918114530068.png",alt:"image-20230918114530068"}}),t._v(" "),a("h3",{attrs:{id:"为什么需要静态分析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#为什么需要静态分析"}},[t._v("#")]),t._v(" 为什么需要静态分析？")]),t._v(" "),a("ol",[a("li",[t._v("程序可靠性")]),t._v(" "),a("li",[t._v("程序安全性")]),t._v(" "),a("li",[t._v("编译优化")]),t._v(" "),a("li",[t._v("程序的理解")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230918114735400.png",alt:"image-20230918114735400"}}),t._v(" "),a("h3",{attrs:{id:"静态分析和莱斯定理"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态分析和莱斯定理"}},[t._v("#")]),t._v(" 静态分析和莱斯定理")]),t._v(" "),a("ul",[a("li",[t._v("SA 会分析一个程序 P，去推导 P 的一些行为和 properties\n"),a("ul",[a("li",[t._v("内存泄漏、空指针、强制类型转换的安全、数据竞争、断言失败、无效代码等...（下面的 non-trivial properties）")])])]),t._v(" "),a("li",[t._v("莱斯（Rice)定理：Any non-trivial property of the behavior of  programs in a r.e. language is undecidable.\n"),a("ul",[a("li",[t._v("r.e. (recursively enumerable)递归可枚举 = recognizable by a Turing-machine 能被图灵机识别")]),t._v(" "),a("li",[t._v("non-trivial properties 一般指 我们关心的、和运行时行为有关的一些 properies")]),t._v(" "),a("li",[t._v("简单来说就是，这些我们一般会去关心的一些运行时的行为问题，例如空指针、内存泄漏等，静态分析是不能给出一个完成精确的答案的。")])])])]),t._v(" "),a("h3",{attrs:{id:"perfect-static-analysis-是不存在的"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#perfect-static-analysis-是不存在的"}},[t._v("#")]),t._v(" Perfect static analysis 是不存在的")]),t._v(" "),a("ul",[a("li",[t._v("何为 Perfect ？\n"),a("ul",[a("li",[t._v("Truth：满足 Sound and Complete，包含的内容就是所有可能的错误")])])]),t._v(" "),a("li",[t._v("Sound：包含了所有真实错误，但也可能包含了误报的错误，即 Overapproximate")]),t._v(" "),a("li",[t._v("Complete：包含了的错误全是真实错误，但可能漏报，即 Underapproximate")]),t._v(" "),a("li",[t._v("关系图：")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230918161957855.png",alt:"image-20230918161957855"}}),t._v(" "),a("ul",[a("li",[t._v("根据 Rice 定理，完美的静态分析是不存在的，但我们可以进行 useful 的静态分析\n"),a("ul",[a("li",[t._v("两种选择：1. 妥协 Soundness 2. 妥协 Completeness")]),t._v(" "),a("li",[t._v("Compromise soundness 会造成 false negative（漏报）")]),t._v(" "),a("li",[t._v("Compromise completeness 会造成 false positive（误报）⭐️\n"),a("ul",[a("li",[t._v("大部分下更追求 sound 的静态分析")]),t._v(" "),a("li",[t._v("sound 一般会更被优先考虑，例如在 bug 检测里，满足了 soundness 意味着能检测出更多 bug")])])])])])]),t._v(" "),a("h3",{attrs:{id:"static-analysis-bird-s-eye-view"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-analysis-bird-s-eye-view"}},[t._v("#")]),t._v(" Static Analysis — Bird’s Eye View")]),t._v(" "),a("div",{staticClass:"language-c extra-class"},[a("pre",{pre:!0,attrs:{class:"language-c"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("input"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nx "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v("\n")])])]),a("p",[t._v("对于 x = ? 的分析，下面有两种分析结果：")]),t._v(" "),a("ol",[a("li",[a("p",[t._v("input 为 true，则 x = 1；input 为 false，则 x = 0")]),t._v(" "),a("ul",[a("li",[t._v("特点：sound，precise，expensive")])])]),t._v(" "),a("li",[a("p",[t._v("x = 1 or x = 0")]),t._v(" "),a("ul",[a("li",[t._v("特点：sound，imprecise，cheap")])])])]),t._v(" "),a("ul",[a("li",[t._v("这两种结果都满足了 sound，但精确度和生成代价不同，往往就是在 precision 和 speed 之间做 trade-off")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230918180500884.png",alt:"image-20230918180500884"}}),t._v(" "),a("h3",{attrs:{id:"static-analysis-most-abstraction-over-approximation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#static-analysis-most-abstraction-over-approximation"}},[t._v("#")]),t._v(" Static Analysis(most)：Abstraction + Over-approximation")]),t._v(" "),a("ul",[a("li",[t._v("Abstraction，以下面的例子为例，在静态分析中我们所关心的 domain 往往不是程序中的 domain，我们要对程序中的具体域的值映射到抽象域")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230918181554715.png",alt:"image-20230918181554715"}}),t._v(" "),a("ul",[a("li",[a("p",[t._v("Over-approximate")]),t._v(" "),a("ol",[a("li",[t._v("Transfer Function 定义了如何在抽象值上去评估程序语句，它是由 “分析问题” 和 ”不同程序语句的语义“ 所定义的。")])]),t._v(" "),a("ul",[a("li",[t._v("eg：以上面的正负为例")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230918183451835.png",alt:"image-20230918183451835"}}),t._v(" "),a("ol",{attrs:{start:"2"}},[a("li",[t._v("Control Flows")])]),t._v(" "),a("img",{staticStyle:{zoom:"33%"},attrs:{src:"https://yra-typora-image.oss-cn-hangzhou.aliyuncs.com/image-20230918183623580.png",alt:"image-20230918183623580"}}),t._v(" "),a("ul",[a("li",[t._v("但实际情况下枚举所有路径往往是不太可能的，所以我们一般默认采用 flow merging")])])])]),t._v(" "),a("h3",{attrs:{id:"需要掌握的重点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#需要掌握的重点"}},[t._v("#")]),t._v(" 需要掌握的重点")]),t._v(" "),a("ol",[a("li",[t._v("静态分析和（动态）测试的区别？")]),t._v(" "),a("li",[t._v("理解 soundness，completeness，false negatives 和 false postives")]),t._v(" "),a("li",[t._v("为什么 soundness 在静态分析中是必需的？")]),t._v(" "),a("li",[t._v("如何理解 abstraction 和 over-approximation")])])])}),[],!1,null,null,null);a.default=i.exports}}]);